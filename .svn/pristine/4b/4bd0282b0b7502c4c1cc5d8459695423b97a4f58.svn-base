import React from 'react'
import {Select,Form} from 'antd'

const {Option} =Select
// const siteId = localStorage.getItem('first')
const Label = ({ title, children }) => {
    return (
      <Form.Item className="headerSearch-page-search-label">
        <label className="headerSearch-page-search-label-item">{title}：</label>
        <span className="headerSearch-page-search-label-span">{children}</span>
      </Form.Item>
    )
  }

  const Search = (props) =>{
    const { getFieldDecorator } = props.form
      const { point,changeRoom,siteId} = props 

      // let siteId = point[0].siteId
      const changeEvent=(e)=>{
        // console.log('asa',e)
        localStorage.setItem('siteId',e)
         changeRoom({siteId:e})
      }
      return(
        <Form >
             <Label title="考点">
              {getFieldDecorator('siteId',
                { initialValue:siteId}
              )(<Select placeholder="请选择考点" onChange={(e)=>changeEvent(e)} style={{width:"263px"}} >
                {point && point.map((item) => {
                  return <Option value={item.siteId} key={item.siteId}>{item.siteName}</Option>
                })}</Select>)
              }
            </Label>
            
       </Form>
      )
  }

  export default Form.create()(Search)